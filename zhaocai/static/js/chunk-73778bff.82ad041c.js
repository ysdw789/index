(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73778bff"],{"26ab":function(e,t,r){},"2a11":function(e,t,r){"use strict";r("26ab")},"58b2":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-card",{staticClass:"box-card"},[r("el-form",{attrs:{inline:!0,size:"mini"}},[r("el-form-item",{attrs:{label:"搜IP查询"}},[r("el-input",{attrs:{placeholder:"IP搜索:127.0.0.1"},model:{value:e.keywordIP,callback:function(t){e.keywordIP=t},expression:"keywordIP"}})],1),r("el-form-item",{attrs:{label:"备注查询"}},[r("el-input",{attrs:{placeholder:"备注查询"},model:{value:e.keywordComment,callback:function(t){e.keywordComment=t},expression:"keywordComment"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchBtn}},[e._v("查询")])],1)],1)],1),r("el-card",{staticClass:"box-card"},[r("div",{staticStyle:{"margin-bottom":"20px"}},[r("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:e.showAddServerDialog}},[e._v("新增服务器")])],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tbaleLoading,expression:"tbaleLoading"}],staticStyle:{width:"100%"},attrs:{size:"small","header-cell-style":{"text-align":"center"},"cell-style":{"text-align":"center"},"element-loading-text":"别着急先去抽根烟",stripe:!0,border:!0,data:e.tableData,height:"400","max-height":"500"}},[r("el-table-column",{attrs:{label:"序号",type:"index",width:"60"}}),r("el-table-column",{attrs:{prop:"ip",label:"服务器ip",width:"115"}}),r("el-table-column",{attrs:{prop:"port",label:"代理端口",width:"80"}}),r("el-table-column",{attrs:{prop:"account",label:"登录账号",width:"120"}}),r("el-table-column",{attrs:{prop:"password",label:"登录密码",width:"120"}}),r("el-table-column",{attrs:{prop:"statu",label:"是否可用",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":0,"inactive-value":1,"active-text":"开","inactive-text":"关"},on:{change:function(r){return e.serverStatuSwitch(t.row)}},model:{value:t.row.statu,callback:function(r){e.$set(t.row,"statu",r)},expression:"scope.row.statu"}})]}}])}),r("el-table-column",{attrs:{prop:"comment",label:"备注",width:"200"}}),r("el-table-column",{attrs:{prop:"createTime",label:"创建日期",width:"145"}}),r("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticStyle:{"margin-right":"6px"},attrs:{size:"mini"},on:{click:function(r){return e.showUpdateServerDialog(t.row.id)}}},[e._v(" 修改 ")]),e._v(" "),r("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定删除该服务器吗？"},on:{onConfirm:function(r){return e.delServer(t.row.id)}}},[r("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v(" 移除 ")])],1)]}}])})],1),r("br"),e.windowWidth>=750?r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e(),e.windowWidth<=749?r("div",{staticClass:"block"},[r("el-pagination",{attrs:{small:"",layout:"total,prev, pager, next","page-size":e.pageSize,total:e.totalCount},on:{"current-change":e.handleCurrentChange}})],1):e._e(),r("el-dialog",{attrs:{"close-on-press-escape":!1,"close-on-click-modal":!1,title:e.dialogTitle,visible:e.dialogVisible,width:e.windowWidth<=750?"85%":"30%"},on:{closed:function(t){return e.dialogClosed()},"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"addServerForm",attrs:{size:"small","status-icon":"","label-width":"90px",model:e.server,rules:e.rules}},[r("el-form-item",{attrs:{label:"服务器IP:",prop:"ip"}},[r("el-input",{attrs:{placeholder:"CCP服务器IP"},model:{value:e.server.ip,callback:function(t){e.$set(e.server,"ip",t)},expression:"server.ip"}})],1),r("el-form-item",{attrs:{label:"端口号:",prop:"port"}},[r("el-input",{attrs:{placeholder:"CCP端口号"},model:{value:e.server.port,callback:function(t){e.$set(e.server,"port",t)},expression:"server.port"}})],1),r("el-form-item",{attrs:{label:"账号:",prop:"account"}},[r("el-input",{attrs:{placeholder:"CCP账号"},model:{value:e.server.account,callback:function(t){e.$set(e.server,"account",t)},expression:"server.account"}})],1),r("el-form-item",{attrs:{label:"密码:",prop:"password"}},[r("el-input",{attrs:{placeholder:"CCP密码"},model:{value:e.server.password,callback:function(t){e.$set(e.server,"password",t)},expression:"server.password"}})],1),r("el-form-item",{attrs:{label:"备注:",prop:"comment"}},[r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注"},model:{value:e.server.comment,callback:function(t){e.$set(e.server,"comment",t)},expression:"server.comment"}})],1),r("el-form-item",{attrs:{label:"是否启用:"}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":0,"inactive-value":1,"active-text":"开","inactive-text":"关"},model:{value:e.server.statu,callback:function(t){e.$set(e.server,"statu",t)},expression:"server.statu"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addOrUpdate}},[e._v("确 定")])],1)],1)],1)],1)},i=[],o=r("aa22"),n={mounted:function(){var e=this;window.onresize=function(){return function(){e.windowWidth=window.innerWidth}()}},data:function(){return{server:{statu:0},rules:{ip:{required:!0,message:"服务器地址不能为空",trigger:"blur"},port:{required:!0,message:"端口号不能为空",trigger:"blur"},account:{required:!0,message:"账号不能为空",trigger:"blur"},password:{required:!0,message:"密码不能为空",trigger:"blur"},comment:{required:!0,message:"备注不能为空",trigger:"blur"}},dialogTitle:"",dialogVisible:!1,tbaleLoading:!0,keywordIP:"",keywordComment:"",windowWidth:0,tableData:[],currentPage:1,pageSize:10,totalCount:0,totalPage:0,addServerflag:!1}},methods:{handleSizeChange:function(e){this.pageSize=e,this.getServerList()},handleCurrentChange:function(e){this.currentPage=e,this.getServerList()},getServerList:function(){var e=this;o["a"].getList(this.currentPage,this.pageSize,this.keywordIP,this.keywordComment).then((function(t){e.tbaleLoading=!1,e.tableData=t.data.serverList,e.totalCount=t.data.totalCount,e.totalPage=t.data.totalPage})).catch((function(t){e.tbaleLoading=!1}))},showAddServerDialog:function(){this.dialogTitle="新增服务器",this.dialogVisible=!0},showUpdateServerDialog:function(e){var t=this;this.dialogTitle="修改服务器",o["a"].getServerById(e).then((function(e){t.server=e.data.server,t.dialogVisible=!0}))},searchBtn:function(){this.currentPage=1,this.getServerList()},addOrUpdate:function(){var e=this;this.$refs.addServerForm.validate((function(t){t&&(e.server.id?e.updateServer():e.addServer())}))},addServer:function(){var e=this,t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});o["a"].addServer(this.server).then((function(r){t.close(),e.dialogVisible=!1,e.$message({message:"添加成功",type:"success"}),e.getServerList()})).catch((function(){t.close()}))},updateServer:function(){var e=this;o["a"].updateServer(this.server).then((function(t){e.dialogVisible=!1,e.$message({message:"修改成功",type:"success"}),e.getServerList()}))},serverStatuSwitch:function(e){var t=this;o["a"].updateServer(e).then((function(e){t.$message.success("操作成功!"),t.getServerList()})).catch((function(){t.getServerList()}))},dialogClosed:function(){this.server={statu:0},this.$refs.addServerForm.clearValidate()},delServer:function(e){var t=this;o["a"].delServerById(e).then((function(e){t.$message({message:"删除成功",type:"success"}),t.getServerList()}))}},created:function(){this.getServerList(),this.windowWidth=window.innerWidth}},s=n,l=(r("2a11"),r("2877")),c=Object(l["a"])(s,a,i,!1,null,"fc7f77a6",null);t["default"]=c.exports},aa22:function(e,t,r){"use strict";var a=r("b775");t["a"]={getList:function(e,t,r,i){return Object(a["a"])({url:"/server/listByPage",method:"get",params:{currentPage:e,pageSize:t,keywordIP:r,keywordComment:i}})},getAllList:function(){return Object(a["a"])({url:"/server/list",method:"get"})},addServer:function(e){return Object(a["a"])({url:"/server/add",method:"post",data:e})},updateServer:function(e){return Object(a["a"])({url:"/server/update",method:"post",data:e})},getServerById:function(e){return Object(a["a"])({url:"/server/getServerById",method:"get",params:{serverId:e}})},delServerById:function(e){return Object(a["a"])({url:"/server/delServerById",method:"get",params:{serverId:e}})},synchronizationCustomer:function(){return Object(a["a"])({url:"/server/synchronizationCustomer",method:"get"})}}}}]);